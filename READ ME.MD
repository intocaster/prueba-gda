# API Rest de GestiÃ³n de Clientes - Prueba TÃ©cnica GDA

Este proyecto es una API Rest desarrollada con **Lumen (Laravel)** para la gestiÃ³n de clientes, incluyendo autenticaciÃ³n personalizada mediante tokens SHA1 y auditorÃ­a de transacciones.

## ğŸš€ Funcionalidades
- **AutenticaciÃ³n**: Login con generaciÃ³n de tokens SHA1 almacenados en BD.
- **Seguridad**: Middlewares para validaciÃ³n de tokens y verificaciÃ³n de expiraciÃ³n.
- **CRUD de Clientes**: Registro, bÃºsqueda filtrada y eliminaciÃ³n lÃ³gica (`status = 'trash'`).
- **Validaciones GeogrÃ¡ficas**: VerificaciÃ³n de que la comuna pertenezca a la regiÃ³n seleccionada.
- **AuditorÃ­a**: Registro automÃ¡tico de logs de cada peticiÃ³n en la base de datos.

## ğŸ› ï¸ TecnologÃ­as utilizadas
- PHP (Framework Lumen)
- MySQL / MariaDB
- Composer
- Git / GitHub

## ğŸ“‹ Requisitos e InstalaciÃ³n
1. Clonar el repositorio: `git clone https://github.com/intocaster/prueba-gda.git`
2. Instalar dependencias: `composer install`
3. Configurar el archivo `.env` con las credenciales de tu base de datos local.
4. Importar el archivo `database.sql` incluido en la raÃ­z del proyecto para recrear la estructura y los datos base (regiones/comunas).

## ğŸ”‘ AutenticaciÃ³n
Para utilizar las rutas protegidas, primero debe obtener un token:
- **POST** `/login` -> Retorna un token SHA1.
- Usar este token en los headers de las demÃ¡s peticiones:  
  `Authorization: Bearer [tu_token]`

## ğŸ§ª Pruebas con Postman
Se incluye lÃ³gica para responder con cÃ³digos de estado HTTP adecuados (200, 201, 401, etc.) y mensajes descriptivos en caso de error.